var v=Object.defineProperty;var h=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var g=(t,e,n)=>e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||(e={}))C.call(e,n)&&g(t,n,e[n]);if(h)for(var n of h(e))P.call(e,n)&&g(t,n,e[n]);return t};import{j as _,r as s,R as j,a as q}from"./vendor.6c694bf7.js";const A=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}};A();var l=(t=>(t.ADD="add",t.REMOVE="remove",t))(l||{});const r=_.exports.jsx,d=_.exports.jsxs,f=s.exports.createContext({quantity:0,totalPrice:0,cart:[],handleClickCardProduct:()=>{}});function N({children:t}){const[e,n]=s.exports.useState([]),[c,a]=e.reduce(function(o,u){return o[0]+=u.quantity,o[1]+=u.quantity*u.product.price,o},[0,0]);function i({product:o,cartOp:u}){const y=e.find(p=>p.product.id===o.id);if(y)if(y.quantity===1&&u===l.REMOVE)n(e.filter(p=>p.product.id!==o.id));else{const p=e.map(function(m){return m.product.id===o.id?{quantity:u===l.ADD?++m.quantity:--m.quantity,product:m.product}:x({},m)});n(p)}else n([...e,{quantity:1,product:o}])}return r(f.Provider,{value:{cart:e,quantity:c,totalPrice:a,handleClickCardProduct:i},children:t})}const k={list:async()=>[{id:"estampitancy-trainee",title:"Estampitancy Trainee",price:4,description:"Te ayuda a conseguir tu primer trabajo en IT",image:"https://pbs.twimg.com/media/FLzn7kFVQAg6Tf6?format=jpg&name=large"},{id:"estampita-mayonesa",title:"Estampitancy Mayonesa",price:3,description:"Ayuda a que tus mascotas est\xE9n siempre saludables y tambi\xE9n a que no te falte la mayonesa con ajo",image:"https://pbs.twimg.com/media/FODuO8dUcAAz-YL?format=jpg&name=large"},{id:"estampita-bel",title:"Estampitancy Performance",price:3,description:"No te preocupes m\xE1s por esos bajos scores de Lighthouse, con esta estampita podr\xE1s conseguir una puntuaci\xF3n de 100%",image:"https://pbs.twimg.com/media/FN-2rJ5WYAYt5W1?format=jpg&name=large"},{id:"estampita-tostada",title:"Estampitancy Tostada",price:3,description:"La estampita de cada ma\xF1ana, tenela cerca para que nunca te falte el desayuno ni la merienda",image:"https://pbs.twimg.com/media/FOQJmoRXoA06RHm?format=jpg&name=large"},{id:"estampita-octocat",title:"Estampitancy Octocat",price:3,description:"Nunca m\xE1s un PR de GitHub esperando d\xEDas por revisi\xF3n",image:"https://pbs.twimg.com/media/FMYAffEXoAIbSWL?format=jpg&name=large"},{id:"estampita-gin",title:"Estampitancy Gin",price:3,description:"Estampita para que el Viernes llegue r\xE1pido y nunca te falte un gintonic",image:"https://pbs.twimg.com/media/FN-2oj5XsAcmuiX?format=jpg&name=large"}]};function O(){const[t,e]=s.exports.useState([]);return s.exports.useEffect(()=>{k.list().then(e)},[]),[t]}const b=s.exports.createContext({products:[]});function w({children:t}){const[e]=O();return r(b.Provider,{value:{products:e},children:t})}const F="_card_5xt7f_1",L="_buttons_wrapper_5xt7f_53";var E={card:F,buttons_wrapper:L};function D({product:t}){var a,i;const{cart:e,handleClickCardProduct:n}=s.exports.useContext(f),c=(i=(a=e.find(o=>o.product.id===t.id))==null?void 0:a.quantity)!=null?i:0;return d("article",{className:E.card,children:[r("img",{src:t.image}),d("div",{children:[r("p",{children:t.title}),r("p",{children:t.description})]}),c?d("div",{className:E.buttons_wrapper,children:[r("button",{onClick:()=>{n({product:t,cartOp:l.REMOVE})},children:"-"}),r("span",{children:c}),r("button",{onClick:()=>{n({product:t,cartOp:l.ADD})},children:"+"})]}):r("button",{onClick:()=>{n({product:t,cartOp:l.ADD})},children:"Agregar"})]})}const R="_checkout_1bi7m_1";var M={checkout:R};function S(){const{quantity:t,totalPrice:e}=s.exports.useContext(f);return r("aside",{className:M.checkout,children:d("button",{children:[t," productos (total: $",e,")"]})})}const $="_footer_rlty6_1";var T={footer:$};function V(){return d("footer",{className:T.footer,children:["Encontr\xE1 la consigna de este ejercicio y otros m\xE1s"," ",r("a",{href:"https://github.com/goncy/interview-challenges/tree/main/simple-cart",children:"ac\xE1"})]})}const I="_header_ke5ru_1";var X={header:I};function Y({children:t}){return r("header",{className:X.header,children:t})}const H="_layout_g2bd2_1";var Q={layout:H};function W({children:t}){return r("main",{className:Q.layout,children:t})}const z="_list_container_toyj6_1";var G={list_container:z};function J(){const{products:t}=s.exports.useContext(b);return r("section",{className:G.list_container,children:t.map(e=>r(D,{product:e},e.id))})}function B(){return d(W,{children:[r(Y,{children:"Estampitiency"}),d(N,{children:[r(w,{children:r(J,{})}),r(S,{})]}),r(V,{})]})}j.render(r(q.StrictMode,{children:r(B,{})}),document.getElementById("root"));
